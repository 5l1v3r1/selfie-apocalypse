(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var renderer, scene, camera, cube, mesh, texture1, texture2, composer, dotScreenEffect, rgbEffect, mouseX, mouseY, shader, remoteVid, localVid, blendEffect;
mouseX = mouseY = 1;
//var localVid = document.getElementById('localVideo');
//var remoteVid = document.getElementById('remoteVideo');
document.addEventListener("mousemove", onMouseMove);


var webrtc = new SimpleWebRTC({
	localVideoEl: 'localVideo',
	remoteVideosEl: '',
	autoRequestMedia: true
});

webrtc.on('readyToCall', function () {
	webrtc.joinRoom('room');
	console.log("joined room!");
	//console.log(localVid);
	//initWebGL();
});

webrtc.on('videoAdded', function (video, peer) {
	//console.log(document.getElementById('localVideo'));
  localVid = document.getElementById('localVideo').childNodes[0]; //what happens if camera not enabled on local comp?
    console.log(localVid);
    console.log('video added', peer);
    console.log(video);
    remoteVid = video;
    initWebGL();
  //  var remotes = document.getElementById('remotes');
  //  if (remotes) {
    	//console.log(video.videoEl);
    	//remoteVid = video.videoEl;
       /* var container = document.createElement('div');
        container.className = 'videoContainer';
        container.id = 'container_' + webrtc.getDomId(peer);
        container.appendChild(video);

        // suppress contextmenu
        video.oncontextmenu = function () { return false; };

        remotes.appendChild(container);*/
   // }
});

function initWebGL(){
	renderer = new THREE.WebGLRenderer();
	renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );
				texture1 = initVideoTexture(localVid);
				texture2 = initVideoTexture(remoteVid);
				//

				/*camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
				camera.position.z = 400;

				scene = new THREE.Scene();*/
				//var geometry = new THREE.PlaneGeometry( window.innerWidth, window.innerHeight);
				
				/*var material = new THREE.MeshBasicMaterial( { map: videoTexture} );

				mesh = new THREE.Mesh( geometry, material );
				scene.add( mesh )*/
				initEffects();
				render();
				//
}

function initVideoTexture(vid){
	var tex = new THREE.Texture( vid );
	tex.wrapS = THREE.ClampToEdgeWrapping;
	tex.wrapT = THREE.ClampToEdgeWrapping;
	tex.minFilter = THREE.LinearFilter;
	tex.magFilter = THREE.LinearFilter;
	//tex.format = THREE.RGBFormat;
	return tex;
}

function initEffects(){
	dotRGBEffect();
	// postprocessing
	/*composer = new THREE.EffectComposer( renderer );
	composer.addPass( new THREE.TexturePass( texture1, 1.0 ) );
	shaderEffect = new THREE.ShaderPass(THREE.KaleidoShader);
	
	/*blendEffect = new THREE.ShaderPass(THREE.BlendShader);
	//blendEffect.uniforms['tDiffuse1'].value = texture2;
	blendEffect.uniforms['tDiffuse2'].value = texture1;
	blendEffect.renderToScreen = true;
	shaderEffect.renderToScreen = true;
	composer.addPass(shaderEffect);
	composer.addPass( blendEffect);*/
}

function dotRGBEffect(){
	composer = new THREE.EffectComposer( renderer );
//composer.addPass( new THREE.RenderPass( scene, camera ) );
composer.addPass( new THREE.TexturePass( texture1, 1.0 ) );

dotScreenEffect = new THREE.ShaderPass( THREE.DotScreenShader );
dotScreenEffect.uniforms[ 'scale' ].value = 0.8;
composer.addPass( dotScreenEffect );

rgbEffect = new THREE.ShaderPass( THREE.RGBShiftShader );
rgbEffect.uniforms[ 'amount' ].value = 0.0015;
rgbEffect.renderToScreen = true;
//shader = new THREE.ShaderPass(THREE.KaleidoShader);
//rgbEffect.renderToScreen = true;
composer.addPass( rgbEffect);
}
	

function onMouseMove(e){
	mouseX = e.pageX;
	mouseY = e.pageY;
}

function render() {
	requestAnimationFrame( render );
	texture1.needsUpdate = true;
	//texture2.needsUpdate = true;
	//blendEffect.uniforms['tDiffuse2'].value = texture2;
	//blendEffect.uniforms['tDiffuse1'].value = texture1;
	//shader.uniforms[ 'sides' ].value = Math.floor(mouseY*0.03);
	//shader.uniforms[ 'angle' ].value +=0.01;
	dotScreenEffect.uniforms[ 'scale' ].value = mouseX * 0.01;
	rgbEffect.uniforms[ 'amount' ].value = mouseY*0.001;
	//renderer.render( scene, camera );
	composer.render();
}



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvb2phY2svY29kZS9WSURFT19NSVhFUi9HTElUQ0hfQ0FNL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFJLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQztBQUM1SixNQUFNLEdBQUcsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUNwQix1REFBdUQ7QUFDdkQseURBQXlEO0FBQ3pELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDcEQ7O0FBRUEsSUFBSSxNQUFNLEdBQUcsSUFBSSxZQUFZLENBQUM7Q0FDN0IsWUFBWSxFQUFFLFlBQVk7Q0FDMUIsY0FBYyxFQUFFLEVBQUU7Q0FDbEIsZ0JBQWdCLEVBQUUsSUFBSTtBQUN2QixDQUFDLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUM7Q0FDckMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN6QixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDN0I7O0FBRUEsQ0FBQyxDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsVUFBVSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7O0VBRTlDLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RCxPQUFPLENBQUMs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Q2pCLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ2xCLENBQUM7O0FBRUQsU0FBUyxNQUFNLEdBQUcsQ0FBQztDQUNsQixxQkFBcUIsRUFBRSxNQUFNLEVBQUUsQ0FBQztBQUNqQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQzdCO0FBQ0E7QUFDQTtBQUNBOztDQUVDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUMsS0FBSyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDM0QsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDOztDQUVwRCxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbkIsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgcmVuZGVyZXIsIHNjZW5lLCBjYW1lcmEsIGN1YmUsIG1lc2gsIHRleHR1cmUxLCB0ZXh0dXJlMiwgY29tcG9zZXIsIGRvdFNjcmVlbkVmZmVjdCwgcmdiRWZmZWN0LCBtb3VzZVgsIG1vdXNlWSwgc2hhZGVyLCByZW1vdGVWaWQsIGxvY2FsVmlkLCBibGVuZEVmZmVjdDtcbm1vdXNlWCA9IG1vdXNlWSA9IDE7XG4vL3ZhciBsb2NhbFZpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbFZpZGVvJyk7XG4vL3ZhciByZW1vdGVWaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlVmlkZW8nKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgb25Nb3VzZU1vdmUpO1xuXG5cbnZhciB3ZWJydGMgPSBuZXcgU2ltcGxlV2ViUlRDKHtcblx0bG9jYWxWaWRlb0VsOiAnbG9jYWxWaWRlbycsXG5cdHJlbW90ZVZpZGVvc0VsOiAnJyxcblx0YXV0b1JlcXVlc3RNZWRpYTogdHJ1ZVxufSk7XG5cbndlYnJ0Yy5vbigncmVhZHlUb0NhbGwnLCBmdW5jdGlvbiAoKSB7XG5cdHdlYnJ0Yy5qb2luUm9vbSgncm9vbScpO1xuXHRjb25zb2xlLmxvZyhcImpvaW5lZCByb29tIVwiKTtcblx0Ly9jb25zb2xlLmxvZyhsb2NhbFZpZCk7XG5cdC8vaW5pdFdlYkdMKCk7XG59KTtcblxud2VicnRjLm9uKCd2aWRlb0FkZGVkJywgZnVuY3Rpb24gKHZpZGVvLCBwZWVyKSB7XG5cdC8vY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsVmlkZW8nKSk7XG4gIGxvY2FsVmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsVmlkZW8nKS5jaGlsZE5vZGVzWzBdOyAvL3doYXQgaGFwcGVucyBpZiBjYW1lcmEgbm90IGVuYWJsZWQgb24gbG9jYWwgY29tcD9cbiAgICBjb25zb2xlLmxvZyhsb2NhbFZpZCk7XG4gICAgY29uc29sZS5sb2coJ3ZpZGVvIGFkZGVkJywgcGVlcik7XG4gICAgY29uc29sZS5sb2codmlkZW8pO1xuICAgIHJlbW90ZVZpZCA9IHZpZGVvO1xuICAgIGluaXRXZWJHTCgpO1xuICAvLyAgdmFyIHJlbW90ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlcycpO1xuICAvLyAgaWYgKHJlbW90ZXMpIHtcbiAgICBcdC8vY29uc29sZS5sb2codmlkZW8udmlkZW9FbCk7XG4gICAgXHQvL3JlbW90ZVZpZCA9IHZpZGVvLnZpZGVvRWw7XG4gICAgICAgLyogdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ3ZpZGVvQ29udGFpbmVyJztcbiAgICAgICAgY29udGFpbmVyLmlkID0gJ2NvbnRhaW5lcl8nICsgd2VicnRjLmdldERvbUlkKHBlZXIpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodmlkZW8pO1xuXG4gICAgICAgIC8vIHN1cHByZXNzIGNvbnRleHRtZW51XG4gICAgICAgIHZpZGVvLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfTtcblxuICAgICAgICByZW1vdGVzLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7Ki9cbiAgIC8vIH1cbn0pO1xuXG5mdW5jdGlvbiBpbml0V2ViR0woKXtcblx0cmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuXHRyZW5kZXJlci5zZXRQaXhlbFJhdGlvKCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyApO1xuXHRcdFx0XHRyZW5kZXJlci5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0ICk7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcblx0XHRcdFx0dGV4dHVyZTEgPSBpbml0VmlkZW9UZXh0dXJlKGxvY2FsVmlkKTtcblx0XHRcdFx0dGV4dHVyZTIgPSBpbml0VmlkZW9UZXh0dXJlKHJlbW90ZVZpZCk7XG5cdFx0XHRcdC8vXG5cblx0XHRcdFx0LypjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoIDcwLCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgMTAwMCApO1xuXHRcdFx0XHRjYW1lcmEucG9zaXRpb24ueiA9IDQwMDtcblxuXHRcdFx0XHRzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyovXG5cdFx0XHRcdC8vdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXHRcdFx0XHRcblx0XHRcdFx0Lyp2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB2aWRlb1RleHR1cmV9ICk7XG5cblx0XHRcdFx0bWVzaCA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTtcblx0XHRcdFx0c2NlbmUuYWRkKCBtZXNoICkqL1xuXHRcdFx0XHRpbml0RWZmZWN0cygpO1xuXHRcdFx0XHRyZW5kZXIoKTtcblx0XHRcdFx0Ly9cbn1cblxuZnVuY3Rpb24gaW5pdFZpZGVvVGV4dHVyZSh2aWQpe1xuXHR2YXIgdGV4ID0gbmV3IFRIUkVFLlRleHR1cmUoIHZpZCApO1xuXHR0ZXgud3JhcFMgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nO1xuXHR0ZXgud3JhcFQgPSBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nO1xuXHR0ZXgubWluRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xuXHR0ZXgubWFnRmlsdGVyID0gVEhSRUUuTGluZWFyRmlsdGVyO1xuXHQvL3RleC5mb3JtYXQgPSBUSFJFRS5SR0JGb3JtYXQ7XG5cdHJldHVybiB0ZXg7XG59XG5cbmZ1bmN0aW9uIGluaXRFZmZlY3RzKCl7XG5cdGRvdFJHQkVmZmVjdCgpO1xuXHQvLyBwb3N0cHJvY2Vzc2luZ1xuXHQvKmNvbXBvc2VyID0gbmV3IFRIUkVFLkVmZmVjdENvbXBvc2VyKCByZW5kZXJlciApO1xuXHRjb21wb3Nlci5hZGRQYXNzKCBuZXcgVEhSRUUuVGV4dHVyZVBhc3MoIHRleHR1cmUxLCAxLjAgKSApO1xuXHRzaGFkZXJFZmZlY3QgPSBuZXcgVEhSRUUuU2hhZGVyUGFzcyhUSFJFRS5LYWxlaWRvU2hhZGVyKTtcblx0XG5cdC8qYmxlbmRFZmZlY3QgPSBuZXcgVEhSRUUuU2hhZGVyUGFzcyhUSFJFRS5CbGVuZFNoYWRlcik7XG5cdC8vYmxlbmRFZmZlY3QudW5pZm9ybXNbJ3REaWZmdXNlMSddLnZhbHVlID0gdGV4dHVyZTI7XG5cdGJsZW5kRWZmZWN0LnVuaWZvcm1zWyd0RGlmZnVzZTInXS52YWx1ZSA9IHRleHR1cmUxO1xuXHRibGVuZEVmZmVjdC5yZW5kZXJUb1NjcmVlbiA9IHRydWU7XG5cdHNoYWRlckVmZmVjdC5yZW5kZXJUb1NjcmVlbiA9IHRydWU7XG5cdGNvbXBvc2VyLmFkZFBhc3Moc2hhZGVyRWZmZWN0KTtcblx0Y29tcG9zZXIuYWRkUGFzcyggYmxlbmRFZmZlY3QpOyovXG59XG5cbmZ1bmN0aW9uIGRvdFJHQkVmZmVjdCgpe1xuXHRjb21wb3NlciA9IG5ldyBUSFJFRS5FZmZlY3RDb21wb3NlciggcmVuZGVyZXIgKTtcbi8vY29tcG9zZXIuYWRkUGFzcyggbmV3IFRIUkVFLlJlbmRlclBhc3MoIHNjZW5lLCBjYW1lcmEgKSApO1xuY29tcG9zZXIuYWRkUGFzcyggbmV3IFRIUkVFLlRleHR1cmVQYXNzKCB0ZXh0dXJlMSwgMS4wICkgKTtcblxuZG90U2NyZWVuRWZmZWN0ID0gbmV3IFRIUkVFLlNoYWRlclBhc3MoIFRIUkVFLkRvdFNjcmVlblNoYWRlciApO1xuZG90U2NyZWVuRWZmZWN0LnVuaWZvcm1zWyAnc2NhbGUnIF0udmFsdWUgPSAwLjg7XG5jb21wb3Nlci5hZGRQYXNzKCBkb3RTY3JlZW5FZmZlY3QgKTtcblxucmdiRWZmZWN0ID0gbmV3IFRIUkVFLlNoYWRlclBhc3MoIFRIUkVFLlJHQlNoaWZ0U2hhZGVyICk7XG5yZ2JFZmZlY3QudW5pZm9ybXNbICdhbW91bnQnIF0udmFsdWUgPSAwLjAwMTU7XG5yZ2JFZmZlY3QucmVuZGVyVG9TY3JlZW4gPSB0cnVlO1xuLy9zaGFkZXIgPSBuZXcgVEhSRUUuU2hhZGVyUGFzcyhUSFJFRS5LYWxlaWRvU2hhZGVyKTtcbi8vcmdiRWZmZWN0LnJlbmRlclRvU2NyZWVuID0gdHJ1ZTtcbmNvbXBvc2VyLmFkZFBhc3MoIHJnYkVmZmVjdCk7XG59XG5cdFxuXG5mdW5jdGlvbiBvbk1vdXNlTW92ZShlKXtcblx0bW91c2VYID0gZS5wYWdlWDtcblx0bW91c2VZID0gZS5wYWdlWTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJlbmRlciApO1xuXHR0ZXh0dXJlMS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdC8vdGV4dHVyZTIubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHQvL2JsZW5kRWZmZWN0LnVuaWZvcm1zWyd0RGlmZnVzZTInXS52YWx1ZSA9IHRleHR1cmUyO1xuXHQvL2JsZW5kRWZmZWN0LnVuaWZvcm1zWyd0RGlmZnVzZTEnXS52YWx1ZSA9IHRleHR1cmUxO1xuXHQvL3NoYWRlci51bmlmb3Jtc1sgJ3NpZGVzJyBdLnZhbHVlID0gTWF0aC5mbG9vcihtb3VzZVkqMC4wMyk7XG5cdC8vc2hhZGVyLnVuaWZvcm1zWyAnYW5nbGUnIF0udmFsdWUgKz0wLjAxO1xuXHRkb3RTY3JlZW5FZmZlY3QudW5pZm9ybXNbICdzY2FsZScgXS52YWx1ZSA9IG1vdXNlWCAqIDAuMDE7XG5cdHJnYkVmZmVjdC51bmlmb3Jtc1sgJ2Ftb3VudCcgXS52YWx1ZSA9IG1vdXNlWSowLjAwMTtcblx0Ly9yZW5kZXJlci5yZW5kZXIoIHNjZW5lLCBjYW1lcmEgKTtcblx0Y29tcG9zZXIucmVuZGVyKCk7XG59XG5cbiJdfQ==
